### C语言编译与链接

****

### extern关键字 

在多文件编程中extern意思是外部的 ( 指该变量可以从外部找到, 但是也可以在本文件里找到 ), 一般用于声明变量, 不建议将该声明变量初始化. ( 额外说一下 全局变量的作用范围不是从变量定义处到该文件结束, 在其他文件中也有效 ) 

### 静态链接 ( 在调用前就已经加载 )

***

静态链接优点为直接将所需的代码编译到文件中, 可以独立运行( 可移植性高 ) 缺点为容易造成代码冗余( 占内存多 ) 其后缀为.a(Linux) .lib(win)

```shell
ar rcs 静态链接库名称 目标文件1 目标文件2 ... # 以防万一 目标文件一般为.o(linux)或.obj(win)
```

### 动态链接 ( 在调用时才加载 )

***

动态链接优点为使用地址将所需指令表明, 这样代码量少, 但是缺点是可移植性低  其后缀为.so(Linux) .dll(win)

```shell
gcc -fpic -shared 源文件名... -o 动态链接库名 # 源文件为.c 文件
```

###### 由于其余内容过于复杂, 暂时省略

****

### static关键字

***

在编译中这个意思是静态的, 可以认为作用域被限制在本文件中( 通常static 这个关键字限制本文件不希望被别的文件调用的全局变量, 且在本文件中即使是临时变量也会认为是全局变量, 都被存储到内存中的全局数据区 )

static 变量主要有两个作用: 

1. 程序有多个模块时, 将全局变量或函数的作用范围限制在当前模块, 对其他模块隐藏.
2. 将局部变量存储到全局数据区, 使它不会随着函数调用结束而被销毁.
